!function(t){var e=function(t){this.messages={defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",urlstrict:"This value should be a valid url.",number:"This value should be a valid number.",digits:"This value should be digits.",dateIso:"This value should be a valid date (YYYY-MM-DD).",alphanum:"This value should be alphanumeric."},notnull:"This value should not be null.",notblank:"This value should not be blank.",required:"This value is required.",regexp:"This value seems to be invalid.",min:"This value should be greater than %s.",max:"This value should be lower than %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",rangelength:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",rangecheck:"You must select between %s and %s choices.",equalto:"This value should be the same."},this.init(t)};e.prototype={constructor:e,validators:{notnull:function(t){return 0<t.length},notblank:function(t){return null!==t&&""!==t.replace(/^\s+/g,"").replace(/\s+$/g,"")},required:function(t){if("object"==typeof t){for(var e in t)if(this.required(t[e]))return!0;return!1}return this.notnull(t)&&this.notblank(t)},type:function(t,e){var s;switch(e){case"number":s=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;break;case"digits":s=/^\d+$/;break;case"alphanum":s=/^\w+$/;break;case"email":s=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;break;case"url":t=/(https?|s?ftp|git)/i.test(t)?t:"http://"+t;case"urlstrict":s=/^(https?|s?ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;break;case"dateIso":s=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/;break;default:return!1}return""!==t?s.test(t):!1},regexp:function(t,e){return RegExp(e,"i").test(t)},minlength:function(t,e){return t.length>=e},maxlength:function(t,e){return t.length<=e},rangelength:function(t,e){return this.minlength(t,e[0])&&this.maxlength(t,e[1])},min:function(t,e){return Number(t)>=e},max:function(t,e){return Number(t)<=e},range:function(t,e){return t>=e[0]&&t<=e[1]},equalto:function(e,s){return e===t(s).val()},remote:function(e,s,i){var n={},r={};n[i.$element.attr("name")]=e,"undefined"!=typeof i.options.remoteDatatype&&(r={dataType:i.options.remoteDatatype});var a=function(t){i.updateConstraint("remote","isValid",t),i.manageValidationResult()};return t.ajax(t.extend({},{url:s,data:n,async:i.async,method:i.options.remoteMethod||"GET",success:function(t){a("1"===t||"true"==t||"object"==typeof t&&"undefined"!=typeof t.success||/success/i.test(t))},error:function(){a(!1)}},r)),i.async&&a(null),null},mincheck:function(t,e){return this.minlength(t,e)},maxcheck:function(t,e){return this.maxlength(t,e)},rangecheck:function(t,e){return this.rangelength(t,e)}},init:function(t){var e=t.validators;t=t.messages;for(var s in e)this.addValidator(s,e[s]);for(s in t)this.addMessage(s,t[s])},formatMesssage:function(t,e){if("object"==typeof e){for(var s in e)t=this.formatMesssage(t,e[s]);return t}return t.replace(/%s/i,e)},addValidator:function(t,e){this.validators[t]=e},addMessage:function(t,e,s){if("undefined"!=typeof s&&!0===s)this.messages.type[t]=e;else if("type"===t)for(var i in e)this.messages.type[i]=e[i];else this.messages[t]=e}};var s=function(t,s,i){this.options=s,this.Validator=new e(s),this.init(t,i||"ParsleyField")};s.prototype={constructor:s,init:function(e,s){this.type=s,this.isValid=!0,this.element=e,this.validatedOnce=!1,this.$element=t(e),this.val=this.$element.val(),this.isRequired=!1,this.constraints=[],"undefined"==typeof this.isRadioOrCheckbox&&(this.isRadioOrCheckbox=!1,this.hash=this.generateHash(),this.errorClassHandler=this.options.errors.classHandler(e)||this.$element),this.ulErrorManagement(),this.bindHtml5Constraints(),this.addConstraints(),this.constraints.length&&this.bindValidationEvents()},bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&(this.options.required=!0),"undefined"!=typeof this.$element.attr("type")&&RegExp(this.$element.attr("type"),"i").test("email url number range")&&(this.options.type=this.$element.attr("type"),RegExp(this.options.type,"i").test("number range")&&(this.options.type="number","undefined"!=typeof this.$element.attr("min")&&this.$element.attr("min").length&&(this.options.min=this.$element.attr("min")),"undefined"!=typeof this.$element.attr("max")&&this.$element.attr("max").length&&(this.options.max=this.$element.attr("max"))))},addConstraints:function(){for(var t in this.options)t=t.toLowerCase(),"function"==typeof this.Validator.validators[t]&&(this.constraints.push({name:t,requirements:this.options[t],isValid:null}),"required"===t&&(this.isRequired=!0),this.addCustomConstraintMessage(t))},addCustomConstraintMessage:function(t){var e=t+("type"===t?this.options[t].charAt(0).toUpperCase()+this.options[t].substr(1):"")+"Message";"undefined"!=typeof this.options[e]&&this.Validator.addMessage("type"===t?this.options[t]:t,this.options[e],"type"===t)},bindValidationEvents:function(){this.$element.addClass("parsley-validated");var e=this.options.trigger+(/key/i.test(this.options.trigger)?"":" keyup");this.options.remote&&(e+=/change/i.test(e)?"":" change"),e&&this.$element.on((e+" ").split(" ").join("."+this.type+" "),!1,t.proxy(this.eventValidation,this))},generateHash:function(){return"parsley-"+(Math.random()+"").substring(2)},getHash:function(){return this.hash},getVal:function(){return this.$element.val()},eventValidation:function(t){var e=this.getVal();return"keyup"===t.type&&!/keyup/i.test(this.options.trigger)&&!this.validatedOnce||e.length<this.options.validationMinlength&&!this.validatedOnce?!0:void this.validate(!0,!1)},isFieldValid:function(){return this.validate(!1,!1)},validate:function(t,e){var s=this.getVal(),i=null;return this.options.listeners.onFieldValidate(this.element,this)||""===s&&!this.isRequired?(this.reset(),null):this.needsValidation(s)?(this.errorBubbling="undefined"!=typeof t?t:!0,this.async="undefined"!=typeof e?e:!0,i=this.applyValidators(),this.errorBubbling&&this.manageValidationResult(),i):this.isValid},needsValidation:function(t){return null!==this.isValid&&this.val===t&&this.validatedOnce?!1:(this.val=t,this.validatedOnce=!0)},applyValidators:function(){for(var t=null,e=0;e<this.constraints.length;e++){var s=this.Validator.validators[this.constraints[e].name](this.val,this.constraints[e].requirements,this);!1===s?(t=!1,this.constraints[e].isValid=t):!0===s&&(this.constraints[e].isValid=!0,t=!1!==t)}return t},updateConstraint:function(t,e,s){for(var i=0;i<this.constraints.length;i++)if(this.constraints[i].name===t){this.constraints[i][e]=s;break}},manageValidationResult:function(){for(var t=null,e=0;e<this.constraints.length;e++)!1===this.constraints[e].isValid?(this.addError(this.constraints[e]),t=!1):!0===this.constraints[e].isValid&&(this.removeError(this.constraints[e].name),t=!1!==t);return this.isValid=t,!0===this.isValid?(this.removeErrors(),this.errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass),this.options.listeners.onFieldSuccess(this.element,this.constraints,this),!0):!1===this.isValid?(this.errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass),this.options.listeners.onFieldError(this.element,this.constraints,this),!1):t},ulErrorManagement:function(){this.ulError="#"+this.hash,this.ulTemplate=t(this.options.errors.errorsWrapper).attr("id",this.hash).addClass("parsley-error-list")},removeError:function(e){e=this.ulError+" ."+e,this.ulError&&t(e).remove()&&0===t(this.ulError).children().length&&t(this.ulError).remove()},removeErrors:function(){t(this.ulError).remove()},reset:function(){return this.isValid=null,this.removeErrors(),this.errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass),this},addError:function(e){t(this.ulError).length||this.options.errors.container(this.element,this.ulTemplate,this.isRadioOrCheckbox)||(this.isRadioOrCheckbox?this.$element.parent().after(this.ulTemplate):this.$element.after(this.ulTemplate));var s=e.name,i=!1!==this.options.errorMessage?"custom-error-message":s,n=this.ulError+" ."+i,i=t(this.options.errors.errorElem).addClass(i);e=!1!==this.options.errorMessage?this.options.errorMessage:"type"===e.name?this.Validator.messages[s][e.requirements]:"undefined"==typeof this.Validator.messages[s]?this.Validator.messages.defaultMessage:this.Validator.formatMesssage(this.Validator.messages[s],e.requirements),t(n).length||t(this.ulError).append(t(i).text(e))},addListener:function(t){for(var e in t)this.options.listeners[e]=t[e]},destroy:function(){this.$element.removeClass("parsley-validated"),this.reset().$element.off("."+this.type).removeData(this.type)}};var i=function(t,e){this.initMultiple(t,e),this.inherit(t,e),this.init(t,e)};i.prototype={constructor:i,initMultiple:function(e,s){this.element=e,this.$element=t(e),this.hash=this.getName(),this.isRadioOrCheckbox=!0,this.isRadio=this.$element.is("input[type=radio]"),this.isCheckbox=this.$element.is("input[type=checkbox]"),this.siblings='input[name="'+this.$element.attr("name")+'"]',this.$siblings=t(this.siblings),this.errorClassHandler=s.errors.classHandler(e)||this.$element.parent()},inherit:function(t,e){var i,n=new s(t,e);for(i in n)"undefined"==typeof this[i]&&(this[i]=n[i])},getName:function(){return"parsley-"+this.$element.attr("name").replace(/(:|\.|\[|\])/g,"")},getVal:function(){if(this.isRadio)return t(this.siblings+":checked").val()||"";if(this.isCheckbox){var e=[];return t(this.siblings+":checked").each(function(){e.push(t(this).val())}),e}}};var n=function(t,e){this.init("parsleyForm",t,e)};n.prototype={constructor:n,init:function(e,s,i){this.type=e,this.items=[],this.$element=t(s),this.options=i;var n,r=this;this.$element.find(i.inputs).each(function(){n=t(this).parsley(i),null!==n&&r.items.push(n)}),this.$element.on("submit."+this.type,!1,t.proxy(this.validate,this))},addListener:function(t){for(var e in t)if(/Field/.test(e))for(var s=0;s<this.items.length;s++)this.items[s].addListener(t);else this.options.listeners[e]=t[e]},validate:function(t){var e=!0;this.focusedField=!1;for(var s=0;s<this.items.length;s++)!1===this.items[s].validate()&&(e=!1,!this.focusedField&&"first"===this.options.focus||"last"===this.options.focus)&&(this.focusedField=this.items[s].$element);return this.focusedField&&!e&&this.focusedField.focus(),this.options.listeners.onFormSubmit(e,t,this),e},removeErrors:function(){for(var t=0;t<this.items.length;t++)this.items[t].parsley("reset")},destroy:function(){for(var t=0;t<this.items.length;t++)this.items[t].destroy();this.$element.off("."+this.type).removeData(this.type)}},t.fn.parsley=function(e,r){function a(a,u){var l=t(a).data(u);if(!l){switch(u){case"parsleyForm":l=new n(a,o);break;case"parsleyField":l=new s(a,o);break;case"parsleyFieldMultiple":l=new i(a,o);break;default:return}t(a).data(u,l)}return"string"==typeof e&&"function"==typeof l[e]?l[e](r):l}var o=t.extend(!0,{},t.fn.parsley.defaults,"undefined"!=typeof window.ParsleyConfig?window.ParsleyConfig:{},e,this.data()),u=null;return t(this).is("form")?u=a(t(this),"parsleyForm"):t(this).is(o.inputs)&&!t(this).is(o.excluded)&&(u=a(t(this),t(this).is("input[type=radio], input[type=checkbox]")?"parsleyFieldMultiple":"parsleyField")),"function"==typeof r?r():u},t.fn.parsley.Constructor=n,t.fn.parsley.defaults={inputs:"input, textarea, select",excluded:"input[type=hidden], :disabled",trigger:!1,focus:"first",validationMinlength:3,successClass:"parsley-success",errorClass:"parsley-error",errorMessage:!1,validators:{},messages:{},errors:{classHandler:function(){},container:function(){},errorsWrapper:"<ul></ul>",errorElem:"<li></li>"},listeners:{onFieldValidate:function(){return!1},onFormSubmit:function(){},onFieldError:function(){},onFieldSuccess:function(){}}},t(window).on("load",function(){t('[data-validate="parsley"]').each(function(){t(this).parsley()})})}(window.jQuery||window.Zepto);