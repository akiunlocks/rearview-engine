CodeMirror.defineMode("gfm",function(t){function e(t,e){return t.sol()&&t.match(/^```([\w+#]*)/)?(e.localMode=l(RegExp.$1),e.localMode&&(e.localState=e.localMode.startState()),e.token=o,"code"):a.token(t,e.mdState)}function o(t,o){return t.sol()&&t.match(/^```/)?(o.localMode=o.localState=null,o.token=e,"code"):o.localMode?o.localMode.token(t,o.localState):(t.skipToEnd(),"code")}function r(t,e){var o;if(t.match(/^\w+:\/\/\S+/))return"link";if(t.match(/^[^\[*\\<>` _][^\[*\\<>` ]*[^\[*\\<>` _]/))return a.getType(e);if(o=t.match(/^[^\[*\\<>` ]+/)){var r=o[0];return"_"===r[0]&&"_"===r[r.length-1]?void t.backUp(r.length):a.getType(e)}return t.eatSpace()?null:void 0}var a=CodeMirror.getMode(t,"markdown"),n={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp"},l=function(){var e,o,r={},a={},l=CodeMirror.listModes();for(e=0;e<l.length;e++)r[l[e]]=l[e];var c=CodeMirror.listMIMEs();for(e=0;e<c.length;e++)o=c[e].mime,a[o]=c[e].mime;for(var i in n)(n[i]in r||n[i]in a)&&(r[i]=n[i]);return function(e){return r[e]?CodeMirror.getMode(t,r[e]):null}}();return{startState:function(){var t=a.startState();return t.text=r,{token:e,mode:"markdown",mdState:t,localMode:null,localState:null}},copyState:function(t){return{token:t.token,mdState:CodeMirror.copyState(a,t.mdState),localMode:t.localMode,localState:t.localMode?CodeMirror.copyState(t.localMode,t.localState):null}},token:function(t,e){var o;if(void 0!=(o=t.peek())&&"["==o){if(t.next(),void 0==(o=t.peek())||"["!=o)return t.backUp(1),e.token(t,e);for(;void 0!=(o=t.next())&&"]"!=o;);if("]"==o&&void 0!=(o=t.next())&&"]"==o)return"link";t.backUp(1)}return t.match(/^\$[^\$]+\$/)?"string":t.match(/^\\\((.*?)\\\)/)?"string":t.match(/^\$\$[^\$]+\$\$/)?"string":t.match(/^\\\[(.*?)\\\]/)?"string":e.token(t,e)},innerMode:function(t){return t.token==e?{state:t.mdState,mode:a}:{state:t.localState,mode:t.localMode}}}},"markdown");